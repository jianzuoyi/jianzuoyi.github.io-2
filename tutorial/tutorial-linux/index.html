<!doctype html><html lang=zh class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content=肿瘤基因检测/病原微生物基因检测/无创产前诊断。><link href=https://jianzuoyi.github.io/tutorial/tutorial-linux/ rel=canonical><meta name=author content="Zuoyi Jian"><link rel="shortcut icon" href=../../assets/favicon.png><meta name=generator content="mkdocs-1.1.2, mkdocs-material-5.5.14"><title>Linux教程 - 简佐义的官方网站</title><link rel=stylesheet href=../../assets/stylesheets/main.593e13b9.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.ff0a5ce4.min.css><meta name=theme-color content=#4051b5><link href=https://fonts.gstatic.com rel=preconnect crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback"><style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","None","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){if(this.value){var e=document.location.pathname;ga("send","pageview",e+"?q="+this.value)}})}),document.addEventListener("DOMContentSwitch",function(){ga("send","pageview",document.location.pathname)})</script><script async src=https://www.google-analytics.com/analytics.js></script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#linuxip class=md-skip> 跳转至 </a> </div> <div data-md-component=announce> </div> <header class=md-header data-md-component=header> <nav class="md-header-nav md-grid" aria-label=Header> <a href=https://jianzuoyi.github.io/ title=简佐义的官方网站 class="md-header-nav__button md-logo" aria-label=简佐义的官方网站> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"><path d="M3.136 17.387v42.932l42.932 21.467L3.136 17.387z"/><path fill-opacity=.5 d="M21.91 8l42.933 64.398-18.775 9.388L3.136 17.387 21.91 8z"/><path d="M67.535 17.387L40.273 35.543l21.878 32.818 5.384 2.691V17.387z"/><path fill-opacity=.25 d="M67.535 17.387v53.666l18.774-9.388V8l-18.774 9.387z"/></svg> </a> <label class="md-header-nav__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg> </label> <div class=md-header-nav__title data-md-component=header-title> <div class=md-header-nav__ellipsis> <span class="md-header-nav__topic md-ellipsis"> 简佐义的官方网站 </span> <span class="md-header-nav__topic md-ellipsis"> Linux教程 </span> </div> </div> <label class="md-header-nav__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=搜索 placeholder=搜索 autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query data-md-state=active> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </label> <button type=reset class="md-search__icon md-icon" aria-label=Clear data-md-component=search-reset tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg> </button> </form> <div class=md-search__output> <div class=md-search__scrollwrap data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list></ol> </div> </div> </div> </div> </div> <div class=md-header-nav__source> <a href=https://github.com/jianzuoyi/jianzuoyi.github.io/ title="前往 GitHub 仓库" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> jianzuoyi.github.io </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class="md-tabs md-tabs--active" aria-label=Tabs data-md-component=tabs> <div class="md-tabs__inner md-grid"> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> 主页 </a> </li> <li class=md-tabs__item> <a href=../../1.aboutme/ class=md-tabs__link> 公众号:简说基因 </a> </li> <li class=md-tabs__item> <a href=./ class="md-tabs__link md-tabs__link--active"> Linux教程 </a> </li> <li class=md-tabs__item> <a href=../tutorial-python/ class=md-tabs__link> Python教程 </a> </li> <li class=md-tabs__item> <a href=../tutorial-conda/ class=md-tabs__link> Conda教程 </a> </li> <li class=md-tabs__item> <a href=../tutorial-git/ class=md-tabs__link> Git教程 </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=https://jianzuoyi.github.io/ title=简佐义的官方网站 class="md-nav__button md-logo" aria-label=简佐义的官方网站> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 89 89"><path d="M3.136 17.387v42.932l42.932 21.467L3.136 17.387z"/><path fill-opacity=.5 d="M21.91 8l42.933 64.398-18.775 9.388L3.136 17.387 21.91 8z"/><path d="M67.535 17.387L40.273 35.543l21.878 32.818 5.384 2.691V17.387z"/><path fill-opacity=.25 d="M67.535 17.387v53.666l18.774-9.388V8l-18.774 9.387z"/></svg> </a> 简佐义的官方网站 </label> <div class=md-nav__source> <a href=https://github.com/jianzuoyi/jianzuoyi.github.io/ title="前往 GitHub 仓库" class=md-source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M439.55 236.05L244 40.45a28.87 28.87 0 00-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 01-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 000 40.81l195.61 195.6a28.86 28.86 0 0040.8 0l194.69-194.69a28.86 28.86 0 000-40.81z"/></svg> </div> <div class=md-source__repository> jianzuoyi.github.io </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. title=主页 class=md-nav__link> 主页 </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-2 type=checkbox id=nav-2> <label class=md-nav__link for=nav-2> 公众号:简说基因 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=公众号:简说基因 data-md-level=1> <label class=md-nav__title for=nav-2> <span class="md-nav__icon md-icon"></span> 公众号:简说基因 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../1.aboutme/ title=1.一个生信人的自白：从生物转生信，我的学习与工作经历 class=md-nav__link> 1.一个生信人的自白：从生物转生信，我的学习与工作经历 </a> </li> <li class=md-nav__item> <a href=../../2.markdown/ title=2.重拾写作：从开始到放弃 class=md-nav__link> 2.重拾写作：从开始到放弃 </a> </li> <li class=md-nav__item> <a href=../../3.ssh/ title=3.生物信息基础：SSH应用，如何优雅地登录远程服务器？ class=md-nav__link> 3.生物信息基础：SSH应用，如何优雅地登录远程服务器？ </a> </li> <li class=md-nav__item> <a href=../../4.houlang/ title=4.奔涌吧，生信 class=md-nav__link> 4.奔涌吧，生信 </a> </li> <li class=md-nav__item> <a href=../../5.chuxin/ title=5.教学相长：愿我们都不忘初心，有始有终 class=md-nav__link> 5.教学相长：愿我们都不忘初心，有始有终 </a> </li> <li class=md-nav__item> <a href=../../6.best-bioinfo-env-mac/ title=6.最佳生物信息工作环境 class=md-nav__link> 6.最佳生物信息工作环境 </a> </li> <li class=md-nav__item> <a href=../../7.best-bioinfo-env-win/ title="7.强烈推荐Windows平台下生信环境搭配：Windows Terminal + WSL" class=md-nav__link> 7.强烈推荐Windows平台下生信环境搭配：Windows Terminal + WSL </a> </li> <li class=md-nav__item> <a href=../../8.ngs-and-micro/ title=8.（一）概述：NGS测序在病原微生物检测中的应用 class=md-nav__link> 8.（一）概述：NGS测序在病原微生物检测中的应用 </a> </li> <li class=md-nav__item> <a href=../../9.microbe-bcl2fastq/ title=9.病原微生物扩增子数据分析实战（一）：bcl2fastq软件完成数据拆分 class=md-nav__link> 9.病原微生物扩增子数据分析实战（一）：bcl2fastq软件完成数据拆分 </a> </li> <li class=md-nav__item> <a href=../../10.microbe-fastp/ title=10.病原微生物扩增子数据分析实战（二）：fastp软件进行质量控制 class=md-nav__link> 10.病原微生物扩增子数据分析实战（二）：fastp软件进行质量控制 </a> </li> <li class=md-nav__item> <a href=../../11.microbe-vsearch/ title=11.病原微生物扩增子数据分析实战（三）：vsearch软件鉴定物种组成 class=md-nav__link> 11.病原微生物扩增子数据分析实战（三）：vsearch软件鉴定物种组成 </a> </li> <li class=md-nav__item> <a href=../../12.aspera/ title=12.Aspera：基因组数据高速下载利器，以NCBI和EBI数据下载为例 class=md-nav__link> 12.Aspera：基因组数据高速下载利器，以NCBI和EBI数据下载为例 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--active md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-3 type=checkbox id=nav-3 checked> <label class=md-nav__link for=nav-3> Linux教程 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Linux教程 data-md-level=1> <label class=md-nav__title for=nav-3> <span class="md-nav__icon md-icon"></span> Linux教程 </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--active"> <input class="md-nav__toggle md-toggle" data-md-toggle=toc type=checkbox id=__toc> <a href=./ title=Linux教程 class="md-nav__link md-nav__link--active"> Linux教程 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-4 type=checkbox id=nav-4> <label class=md-nav__link for=nav-4> Python教程 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Python教程 data-md-level=1> <label class=md-nav__title for=nav-4> <span class="md-nav__icon md-icon"></span> Python教程 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../tutorial-python/ title=Python教程 class=md-nav__link> Python教程 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-5 type=checkbox id=nav-5> <label class=md-nav__link for=nav-5> Conda教程 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Conda教程 data-md-level=1> <label class=md-nav__title for=nav-5> <span class="md-nav__icon md-icon"></span> Conda教程 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../tutorial-conda/ title=Conda教程 class=md-nav__link> Conda教程 </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle" data-md-toggle=nav-6 type=checkbox id=nav-6> <label class=md-nav__link for=nav-6> Git教程 <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav aria-label=Git教程 data-md-level=1> <label class=md-nav__title for=nav-6> <span class="md-nav__icon md-icon"></span> Git教程 </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../tutorial-git/ title=Git教程 class=md-nav__link> Git教程 </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label=目录> </nav> </div> </div> </div> <div class=md-content> <article class="md-content__inner md-typeset"> <a href=https://github.com/jianzuoyi/jianzuoyi.github.io/edit/master/docs/tutorial/tutorial-linux.md title=编辑此页 class="md-content__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg> </a> <h2 id=linuxip>Linux命令行获取本机外网IP地址<a class=headerlink href=#linuxip title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code>curl ip.sb
curl cip.cc
curl ifconfig.me
curl icanhazip.com
curl ident.me
curl ipecho.net/plain 
</code></pre></div> <h2 id=_1>安装库<a class=headerlink href=#_1 title="Permanent link">&para;</a></h2> <div class=highlight><pre><span></span><code>apt install zlib1g-dev
apt install libbz2-dev
</code></pre></div> <h2 id=sjm>安装SJM<a class=headerlink href=#sjm title="Permanent link">&para;</a></h2> <p>Installing SJM requires the following prerequisites:</p> <ol> <li>GCC to compile the program.</li> <li>The Boost regex library (<a href=http://www.boost.org/ >http://www.boost.org</a>). If you don't already have it on your system you must install boost before installing SJM. The easiest way is to install a prebuilt package, but you can download the source release from the boost web site and build it yourself. See the instructions here: <a href=http://www.boost.org/doc/libs/1_49_0/more/getting_started/index.html>http://www.boost.org/doc/libs/1_49_0/more/getting_started/index.html</a> Be sure to follow the build instructions in the section called "Prepare to Use a Boost Library Binary".</li> <li>The TCLAP library (<a href=http://tclap.sourceforge.net/ >http://tclap.sourceforge.net/</a>). Download and install it before installing SJM.</li> <li>A job scheduler: either Sun Grid Engine or Platform LSF. SJM doesn't currently support other schedulers but it is relatively easy to add a new one (see Other Job Schedulers below).</li> <li>For Sun Grid Engine: a parallel environment for running multi-core (threaded) jobs on a single node of the cluster. Common names for this PE are "smp" or "shm". Here is a sample SGE configuration:</li> </ol> <div class=highlight><pre><span></span><code>apt install libtclap-dev

apt install libboost-dev

apt install openjdk-8-jdk

apt install libboost-regex-dev

apt install gridengine-drmaa-dev

<span class=nb>export</span> <span class=nv>LD_LIBRARY_PATH</span><span class=o>=</span><span class=nv>$LD_LIBRARY_PATH</span>:/usr/lib/gridengine-drmaa/lib
<span class=nb>export</span> <span class=nv>SGE_ROOT</span><span class=o>=</span>/var/lib/gridengine

./sjm

跑任务时要先创建log文件夹
</code></pre></div> <h1 id=sgesun-grid-engine>安装SGE（Sun Grid Engine）<a class=headerlink href=#sgesun-grid-engine title="Permanent link">&para;</a></h1> <p><strong>前提条件：</strong></p> <ol> <li>root用户</li> <li>ubuntu 16.04</li> </ol> <p><strong>1.安装SGE组件</strong></p> <div class=highlight><pre><span></span><code>apt install --yes <span class=se>\</span>
gridengine-master <span class=se>\</span>
gridengine-client <span class=se>\</span>
gridengine-exec <span class=se>\</span>
gridengine-qmon
</code></pre></div> <p>Configure SGE automatically? <strong>YES</strong></p> <p>SGE cell name: <strong>default</strong></p> <p>SGE master hostname: <strong><enter your master hostname></strong></p> <p><strong>2.在master主机上，设置SGE</strong></p> <div class=highlight><pre><span></span><code><span class=c1># 将当前主机设为master节点</span>
qconf -as <span class=nv>$HOSTNAME</span>
</code></pre></div> <p><strong>2.1 主机列表</strong></p> <div class=highlight><pre><span></span><code><span class=c1># 增加一个总的主机的列表</span>
qconf -ahgrp @allhosts
</code></pre></div> <p>在打开的文件中，设置主机列表：</p> <p>hostlist <strong>galaxy</strong></p> <p>或者：</p> <div class=highlight><pre><span></span><code><span class=c1># 将当前主机添加到总的主机列表</span>
qconf -aattr hostgroup hostlist <span class=nv>$HOSTNAME</span> @allhosts
</code></pre></div> <p><strong>2.2 队列</strong></p> <div class=highlight><pre><span></span><code><span class=c1># 增加一个队列</span>
qconf -aq all.q
</code></pre></div> <p>在打开的文件中，设置队列：</p> <p>hostlist <strong><a class="magiclink magiclink-github magiclink-mention" href=https://github.com/allhosts title="GitHub User: allhosts">@allhosts</a></strong></p> <p>slots <strong>8,[galaxy=8]</strong></p> <p>shell <strong>/bin/bash</strong></p> <p>或者：</p> <div class=highlight><pre><span></span><code><span class=c1># 将总的主机列表添加到all.q</span>
qconf -aattr queue hostlist @allhosts all.q

<span class=c1># 设置每个主机的CPU线程数</span>
<span class=c1># master节点的CPU数减1</span>
qconf -aattr queue slots <span class=s2>&quot;8, [</span><span class=nv>$HOSTNAME</span><span class=s2>=7]&quot;</span> all.q

<span class=c1># 改变默认的/bin/csh为/bin/bash</span>
qconf -aattr queue shell /bin/bash all.q
</code></pre></div> <p><strong>2.3 用户列表</strong></p> <div class=highlight><pre><span></span><code><span class=c1># 将当前用户加入到用户列表</span>
qconf -au <span class=nv>$USER</span> users
</code></pre></div> <p><strong>2.4 对计算资源的控制</strong></p> <p>通常主要是对任务的CPU和内存需求进行控制。</p> <p>默认是对硬件资源进行控制，也可以自定义控制变量。</p> <p>全局资源控制： <code>qconf -sc</code>，定义资源的类型，以及哪些资源是可以供消耗的：</p> <p>队列资源控制：<code>qconf -sq all.q</code>, 通过complex_values列出队列可供申请的资源，不设置表明资源是无限制的</p> <p>节点资源控制：<code>qconf -se galaxy</code>，通过**complex_values num_proc=8,virtual_free=16G**列出节点可供申请的资源，不设置表明资源是无限制的</p> <p>提交任务时，通过<code>qsub -l vf=*G,p=num</code>来指定需要的CPU和内存</p> <p>首先全局设置：</p> <div class=highlight><pre><span></span><code>qconf -mc
</code></pre></div> <p>修改成如下情况：</p> <h1 id=name-shortcut-type-relop-requestable-consumable-default-urgency>name shortcut type relop requestable consumable default urgency<a class=headerlink href=#name-shortcut-type-relop-requestable-consumable-default-urgency title="Permanent link">&para;</a></h1> <h1 id=->----------------------------------------------------------------------------------------<a class=headerlink href=#- title="Permanent link">&para;</a></h1> <p>num_proc p INT &lt;= YES YES 1 1000</p> <p>virtual_free vf MEMORY &lt;= YES YES 0 0</p> <blockquote> <p>name - 资源名称</p> <p>shortcut - 资源名称缩写</p> <p>type - 资源类型</p> <p>relop - 资源可用性的判断，==表示申请的资源必须与提供的相等，&lt;=表示申请的资源小于可提供的就可以</p> <p>requestable - 资源是否可请求：YES/NO</p> <p>consumable - 资源是否可消耗，YES/NO，当设置成YES，可申请资源会随着申请逐渐变少</p> <p>default - 资源消耗的默认值</p> <p>urgency - 优先级</p> </blockquote> <p><strong>设置并环境</strong></p> <div class=highlight><pre><span></span><code>qconf -ap smp
qconf -ap mpi
</code></pre></div> <p>slots <strong>999</strong></p> <p>投递时，-pe smp 10，相当于-l p=10，指定10个逻辑CPU</p> <p><strong>最后</strong></p> <div class=highlight><pre><span></span><code><span class=c1># 修改任务监控的时间间隔</span>
qconf -msconf
</code></pre></div> <p>schedule_interval <strong>0:0:5</strong></p> <h3 id=sge><strong>sge 需要掌握的几个基本概念</strong><a class=headerlink href=#sge title="Permanent link">&para;</a></h3> <table> <thead> <tr> <th align=left>名字</th> <th align=left>解释</th> </tr> </thead> <tbody> <tr> <td align=left>node</td> <td align=left>A host computer in the cluster. A node may have multiple processors. Cetus’s nodes are named cetus01, cetus02, etc.</td> </tr> <tr> <td align=left>core</td> <td align=left>A CPU may have multiple cores. A core is often thought of as a separate CPU in its own right, but technically it is not. It does function very much like a separate CPU, but since it shares a CPU with other cores it does not perform quite as well as a separate CPU would. Nonetheless, performance of multiple cores is close to that of the equivalent number of (single core) CPUs, and they are designed to function much like separate CPUs, so it is often practical to think of them as such.</td> </tr> <tr> <td align=left>queue</td> <td align=left>An object which may contain a prioritized list of jobs for which requested resources for the jobs can be satisfied. A queue also has a list of nodes that are available to it, and a limit on the number of jobs that are allowed to run on each node from this queue.</td> </tr> <tr> <td align=left>queue instance</td> <td align=left>A sort of mini-queue that is a branch of the queue on a node. For example, the test.q queue may have instances test.q@cetus01, test.q@cetus02, etc.</td> </tr> <tr> <td align=left>slots</td> <td align=left>For a queue, the number of jobs that may run on a node from this queue. In other words, the number of jobs that may run in each of this queue’s instances.</td> </tr> <tr> <td align=left>consumable resource</td> <td align=left>A (usually numeric) resource, such as disk space or memory, for which each job may consume a portion. A resource may be attributable to the cluster as a whole, to a queue, or to a node. When a job is being scheduled, if it requests more than the available amount of a resource, the job is deferred until sufficient resources are available.</td> </tr> </tbody> </table> <p><strong>3.在其他主机上</strong></p> <p>待续</p> <p><strong>参考：</strong></p> <p><a href=https://github.com/GoogleCloudPlatform/solutions-google-compute-engine-cluster-for-grid-engine>https://github.com/GoogleCloudPlatform/solutions-google-compute-engine-cluster-for-grid-engine</a></p> <p><a href=https://qinqianshan.com/unix/linux/linux-sge/ >https://qinqianshan.com/unix/linux/linux-sge/</a></p> <p><a href=https://peteris.rocks/blog/sun-grid-engine-installation-on-ubuntu-server/ >https://peteris.rocks/blog/sun-grid-engine-installation-on-ubuntu-server/</a> <a href=https://blog.csdn.net/Xiao_Song_PKU/article/details/86553710>https://blog.csdn.net/Xiao_Song_PKU/article/details/86553710</a></p> <p>SGE错误： error: commlib error: access denied (client IP resolved to host name "". This is not identical to cl</p> <p>解决方法：</p> <div class=highlight><pre><span></span><code>ifconfig
<span class=c1># 查看本机内网IP地址</span>

vi /etc/hosts
<span class=c1># 增加以下一行，类似的其余行删掉</span>
<span class=c1># 172.19.247.XXX  galaxy  galaxy</span>
</code></pre></div> <h2 id=r>安装R<a class=headerlink href=#r title="Permanent link">&para;</a></h2> <p><div class=highlight><pre><span></span><code>sudo apt-key adv --keyserver keyserver.ubuntu.com --recv-keys E298A3A825C0D65DFD57CBB651716619E084DAB9
sudo add-apt-repository <span class=s1>&#39;deb [arch=amd64,i386] https://cran.rstudio.com/bin/linux/ubuntu xenial/&#39;</span>
sudo apt-get update
sudo apt-get install r-base
</code></pre></div> <strong>参考</strong> <a href=https://www.digitalocean.com/community/tutorials/how-to-install-r-on-ubuntu-16-04-2>https://www.digitalocean.com/community/tutorials/how-to-install-r-on-ubuntu-16-04-2</a></p> </article> </div> </div> </main> <footer class=md-footer> <div class=md-footer-nav> <nav class="md-footer-nav__inner md-grid" aria-label=Footer> <a href=../../12.aspera/ title=12.Aspera：基因组数据高速下载利器，以NCBI和EBI数据下载为例 class="md-footer-nav__link md-footer-nav__link--prev" rel=prev> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg> </div> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> 上一页 </span> 12.Aspera：基因组数据高速下载利器，以NCBI和EBI数据下载为例 </div> </div> </a> <a href=../tutorial-python/ title=Python教程 class="md-footer-nav__link md-footer-nav__link--next" rel=next> <div class=md-footer-nav__title> <div class=md-ellipsis> <span class=md-footer-nav__direction> 下一页 </span> Python教程 </div> </div> <div class="md-footer-nav__button md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg> </div> </a> </nav> </div> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-footer-copyright> <div class=md-footer-copyright__highlight> Copyright &copy; 2019 - 2020 Zuoyi Jian </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-footer-social> <a href=https://github.com/jianzuoyi target=_blank rel=noopener title=github.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg> </a> <a href=https://gitter.im/jianzuoyi/mkdocs-material target=_blank rel=noopener title=gitter.im class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 384 512"><path d="M66.4 322.5H16V0h50.4v322.5zM166.9 76.1h-50.4V512h50.4V76.1zm100.6 0h-50.4V512h50.4V76.1zM368 76h-50.4v247H368V76z"/></svg> </a> <a href=https://hub.docker.com/r/jianzuoyi/mkdocs-material/ target=_blank rel=noopener title=hub.docker.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 640 512"><path d="M349.9 236.3h-66.1v-59.4h66.1v59.4zm0-204.3h-66.1v60.7h66.1V32zm78.2 144.8H362v59.4h66.1v-59.4zm-156.3-72.1h-66.1v60.1h66.1v-60.1zm78.1 0h-66.1v60.1h66.1v-60.1zm276.8 100c-14.4-9.7-47.6-13.2-73.1-8.4-3.3-24-16.7-44.9-41.1-63.7l-14-9.3-9.3 14c-18.4 27.8-23.4 73.6-3.7 103.8-8.7 4.7-25.8 11.1-48.4 10.7H2.4c-8.7 50.8 5.8 116.8 44 162.1 37.1 43.9 92.7 66.2 165.4 66.2 157.4 0 273.9-72.5 328.4-204.2 21.4.4 67.6.1 91.3-45.2 1.5-2.5 6.6-13.2 8.5-17.1l-13.3-8.9zm-511.1-27.9h-66v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm78.1 0h-66.1v59.4h66.1v-59.4zm-78.1-72.1h-66.1v60.1h66.1v-60.1z"/></svg> </a> <a href=https://twitter.com/jianzuoyi target=_blank rel=noopener title=twitter.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg> </a> <a href=https://linkedin.com/in/jianzuoyi/ target=_blank rel=noopener title=linkedin.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"/></svg> </a> <a href=https://instagram.com/jianzuoyi target=_blank rel=noopener title=instagram.com class=md-footer-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 448 512"><path d="M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"/></svg> </a> </div> </div> </div> </footer> </div> <script src=../../assets/javascripts/vendor.581c8fc6.min.js></script> <script src=../../assets/javascripts/bundle.66a8d459.min.js></script><script id=__lang type=application/json>{"clipboard.copy": "\u590d\u5236", "clipboard.copied": "\u5df2\u590d\u5236", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\uff0c\\u3002]+", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c"}</script> <script>
        app = initialize({
          base: "../..",
          features: ['tabs'],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.5eca75d3.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script> </body> </html>